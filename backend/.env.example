# Backend Environment Variables

# Server
PORT=3000
NODE_ENV=development
LOG_LEVEL=info

# Database
DB_HOST=localhost
DB_PORT=5432
DB_NAME=nonprofit_manager
DB_USER=postgres
DB_PASSWORD=your_password_here

# Redis Cache
REDIS_URL=redis://localhost:6379
REDIS_ENABLED=true

# JWT
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your_jwt_secret_here_change_in_production
JWT_EXPIRES_IN=24h
# Security hardening: keep false to avoid exposing tokens in JSON login responses.
# Set to true only for temporary backward compatibility with legacy clients.
EXPOSE_AUTH_TOKENS_IN_RESPONSE=false

# CSRF Protection
# Generate a secure secret: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
CSRF_SECRET=your_csrf_secret_here_change_in_production

# Encryption (required in production for sensitive data at rest)
# 64 hex chars recommended (256-bit key). Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your_64_char_hex_key_here

# MFA (TOTP)
TOTP_ISSUER=Nonprofit Manager

# Passkeys (WebAuthn)
# For production, set these to your public site values.
WEBAUTHN_RP_NAME=Nonprofit Manager
WEBAUTHN_ORIGIN=http://localhost:5173
WEBAUTHN_RP_ID=localhost

# CORS
CORS_ORIGIN=http://localhost:5173

# Stripe Payment Processing
# Get keys from https://dashboard.stripe.com/apikeys
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# Health Check (optional - for production)
HEALTH_CHECK_KEY=your_health_check_key_here

# Metrics (optional - for production)
METRICS_AUTH_KEY=your_metrics_auth_key_here

# Mailchimp Email Marketing
# Get API key from https://admin.mailchimp.com/account/api/
# Server prefix is the datacenter (e.g., us1, us2, etc.) from your API key suffix
MAILCHIMP_API_KEY=your_mailchimp_api_key_here
MAILCHIMP_SERVER_PREFIX=us1

# Plausible Analytics (server-side proxy)
PLAUSIBLE_API_KEY=your_plausible_api_key_here
PLAUSIBLE_API_HOST=https://plausible.io
PLAUSIBLE_DOMAIN=your-domain.com

# Security Configuration
# Set to true to enforce secure config in production (will exit if secrets are weak)
ENFORCE_SECURE_CONFIG=false
